<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/home.css">
    <title>Weekend Discharge </title>
</head>
<body>
    <header>
        <div class="header-container">
          <h1>PatientPathway</h1>
         <a href="/"><button class="back-home">Home</button></a>
        </div>
      </header>
   <main class="container">
    <h2 id="page-header">Weekend Discharge Request</h2>  

    <form id="patient-discharge-requestor-form" class="form-information">
     <div class="request-container">
        <div class="request-info">
            <div class="discharge-input">
        <p id ="discharge-text">Name</p>
        <input type="text" id ="discharge-input-text" name="dischargeRequestedBy" >
    </div>
    <div class="discharge-input">
        <p id = "discharge-text">Extension</p>
        <input type="text" id ="discharge-input-text"  name="dischargeExtensionNumber" >
    </div>
    <div class="discharge-input">
        <p id ="discharge-text">Department</p>
        <input type="text" id ="discharge-input-text"  name="dischargeDeparment" >
    </div>
    </div>
    <div class="request-hospital">
    <p id="hospital-header">Hospital/Medical Office</p>
    <div class="hospital-options">
    <div class="hospital-input">
    <label for="PHWH">PHWH</label>
    <input type="radio" id="hospital-radio-options" name="dischargeHospital" value="PHWH">
</div>
<div class="hospital-input">
    <label for="PHDH">PHDH</label>
    <input type="radio" id="hospital-radio-options" name="dischargeHospital" value="PHDH">
</div>
<div class="hospital-input">

    <label for="PHGSH">PHGSH</label>
    <input type ="radio" id="hospital-radio-options" name="dischargeHospital" value="PHGSH">
</div>
<div class="hospital-input">

    <label for="PHP">PHP</label>
    <input type="radio" id="hospital-radio-options" name="dischargeHospital" value="PHP">
</div>
    </div>
</form>
    </div>
</div>
<form id ="patient-information-form" class="form-information">
    <h3 id="page-header">Patient Information</h3>  
    <div class="patient-information">
        <div class="patient-information-left">
            <div class="patient-information-input">
        <p id ="patient-information-text">First Name</p>
        <input type="text" id ="patient-input-text"  name="patientFirstName" placeholder="John">
    </div>

        <div class="patient-information-input">
        <p id ="patient-information-text">Last Name</p>
        <input type="text"  id ="patient-input-text"  name="patientLastName" placeholder="Doe">
    </div>

        <div class="patient-information-input">
        <p id ="patient-information-text">Phone Number</p>
        <input type="text"  id ="patient-input-text"  name="patientPhoneNumber" placeholder="(123) 456-7890">
    </div>

        <div class="patient-information-input">
        <p id ="patient-information-text">Medical Record #</p>
        <input type="text" id ="patient-input-text"   name="patientMRN" placeholder="0123456">
    </div>

        <div class="patient-information-input">
        <p id ="patient-information-text">Date of Birth</p>
        <input type="text" id ="patient-input-text"   name="patientDoB" placeholder="12/25/1980">
    </div>

    </div>
    <div class="patient-information-right">
        <div class="patient-information-input">
        <p id ="patient-information-text">Height</p>
        <input type="text" id ="patient-input-text"  name="patientHeight" placeholder="5 ' 10">
    </div>
    <div class="patient-information-input">
        <p id ="patient-information-text">Weight</p>
        <input type="text" id ="patient-input-text"  name="patientWeight" placeholder="185">
    </div>
    <div class="patient-information-input">
        <p id ="patient-information-text">Gender</p>
        <input type="text"id ="patient-input-text"  name="patientGender" placeholder="Female/Male">
    </div>
    <div class="patient-information-input">
        <p id ="patient-information-text">Primary Language</p>
        <input type="text" id ="patient-input-text"  name="patientLanguage" placeholder="English">
    </div>
    <div class="patient-information-input">
        <p id ="patient-information-text">Room Number</p>
        <input type="text" id ="patient-input-text"  name="patientRoomNumber" placeholder="1234">
    </div>

    </div>
</form>
    </div>
    <form id ="trip-information-form" class="form-information">
        <h3 id="page-header">Trip Information</h3>  
        <div class="trip-information">
        <div class="trip-date-time-container">
        <div class="trip-information-input">
        <p id ="trip-information-text" >Date</p>
        <!-- DT stands fro Date Time-->
        <input type="date" id ="trip-input-DT" name="patientDischargeDate" value="2025-01-04">
    </div>
        <div class="trip-information-input">
        <p id ="trip-information-text" >Time</p>
        <input type="time" id ="trip-input-DT" name="patientDischargeTime" value="12:00">
    </div>
    </div>
    <div class="trip-address">
    <p id ="trip-information-text" >Address</p>
        <input type="text" id="trip-address-input" name="patientDischargeAddress" placeholder="12401 Washington Blvd, Whittier, CA 90602">
    </div>
    <div class="trip-transportation-type">
        <input type="button" id ="trip-transportation-Ambu" value="Ambulatory"><input type="button" id="trip-transportation-WC" value="Wheelchair"><input type="button" id="trip-transportation-Gurney" value="Gurney">
        <div class="checkbox-container">
            <label class="checkbox-label" for="oxygen">Oxygen</label>
            <input type="checkbox" id="oxygen" name="patientOxygen" value="Oxygen">
          </div>
        
          <div id ="oxygenAmount" class="checkbox-container">
            <label class="checkbox-label" for="OxygenAmount">Amount</label>
            <input type="number" id="oxygen-input" name="patientOxygenAmount" placeholder="Liter(s)">
          </div>

          <div class="checkbox-container">
            <label class="checkbox-label" for="isolation">Isolation</label>
            <input type="checkbox" id="isolation" name="patientIsolation" value="ISO">
          </div>
    </div>
        <textarea name="patientComments" rows="5" cols="85" placeholder="Enter additional information here"></textarea>
    </div>

    </form>
<div class="button-container">
    <button id="discharge-request-submission">Submit</button>
</div>

</main>
<script>
    "use strict";

    class PatientDischargeRequestor {
  constructor(name, extension, department, hospital) {
    this.name = name;
    this.extension = extension;
    this.department = department;
    this.hospital = hospital;
  }
  
}

    class Patient {
  constructor(firstName,lastName,phoneNumber,MRN, dob, height, weight, gender,primaryLanguage, roomNumber) {
    this.firstName = firstName;
    this.lastName = lastName;
    this.phoneNumber = phoneNumber;
    this.MRN = MRN;
    this.dob = dob;
    this.height = height;
    this.weight = weight;
    this.gender = gender;
    this.primaryLanguage = primaryLanguage;
    this.roomNumber = roomNumber;
  }

}

    class Trip{
        constructor(date,time, address, transportationType,oxygenNeeded,amountOfOxygen,isolation,){
            this.date = date;
            this.time = time;
            this.address = address;
            this.transportationType = transportationType;
            this.oxygenNeeded = oxygenNeeded;
            this.amountOfOxygen = amountOfOxygen;
            this.isolation = isolation;
        }
    }

    const oxygenStatus = document.getElementById("oxygen");
    //when checkbox is clicked we append an input field to acquire the 
    // amount of oxygen that is needed 
    oxygenStatus.addEventListener("change",() =>
        {
            let oxygenInputAmount = document.getElementById('oxygenAmount');
            // if checkbox is selected we change the dispaly to reveal the input field
            if(oxygenStatus.checked){
                oxygenInputAmount.style.display = 'flex';
            }// if checkbox is not selected we hide the input field 
            else{
                oxygenInputAmount.style.display = 'none';
            }
        }
    )


    document.getElementById("discharge-request-submission").addEventListener("click", (event) => {
      event.preventDefault(); 

      //get form values and create a requestor instance
      let name = document.getElementsByName("dischargeRequestedBy")[0].value;
      let extension = document.getElementsByName("dischargeExtensionNumber")[0].value;
      let department = document.getElementsByName("dischargeDeparment")[0].value;
      let hospital = document.getElementsByName("dischargeHospital")[0].value;
      const requestor = new PatientDischargeRequestor(name, extension, department, hospital);

    //get form values and create a patient instance
      let firstName = document.getElementsByName("patientFirstName")[0].value;
      let lastName = document.getElementsByName("patientLastName")[0].value;
      let phoneNumber = document.getElementsByName("patientPhoneNumber")[0].value;
      let MRN = document.getElementsByName("patientMRN")[0].value;
      let dob = document.getElementsByName("patientDoB")[0].value;
      let height = document.getElementsByName("patientHeight")[0].value;
      let weight = document.getElementsByName("patientWeight")[0].value;
      let gender = document.getElementsByName("patientGender")[0].value;
      let primaryLanguage = document.getElementsByName("patientLanguage")[0].value;
      let roomNumber = document.getElementsByName("patientRoomNumber")[0].value;

      const patient = new Patient(firstName, lastName, phoneNumber, MRN, dob, height, weight,gender,primaryLanguage,roomNumber);
      

    //get form values and create a trip instance
      let date = document.getElementsByName("patientDischargeDate")[0].value;
      let time = document.getElementsByName("patientDischargeTime")[0].value;
      let address = document.getElementsByName("patientDischargeAddress")[0].value;
      //TODO implement values to transpo type buttons 
      let transportationType ="default";
      let oxygen = oxygenStatus.checked;
      let isolation = document.getElementById("isolation").checked;
      //check if oxygen is true if so return amount else return 0
      let amountOfOxygen = oxygen ? document.getElementsByName("patientOxygenAmount")[0].value + "L" : 0;


      const trip = new Trip(date,time,address,transportationType,oxygen,amountOfOxygen,isolation);
      
      console.log(requestor,patient,trip);
      console.log(oxygenStatus.checked);

    });
</script>
</body>
</html>